
sync.map 使用场景
map+Mutex： 通过Mutex互斥锁来实现多个goroutine对map的串行化访问，读写都需要通过Mutex加锁和释放锁，适用于读写比接近的场景
map+RWMutex：通过RWMutex来实现对map的读写进行读写锁分离加锁，从而实现读的并发性能提高，同Mutex相比适用于读多写少的场景
sync.Map：底层通分离读写map和原子指令来实现读的近似无锁，并通过延迟更新的方式来保证读的无锁化。读多修改少，元素增加删除频率不高的情况

通过以上示例可以看到sync.map具有以下特性：

可以存储不同的数据类型在一起，这有别于map只能存储声明好的数据类型，且相同的。
无须初始化，直接声明即可。
sync.Map 不能使用map的方式进行取值和设置等操作，而是使用 sync.Map 的方法进行调用，Store 表示存储，Load 表示获取，Delete 表示删除
增加了两个特殊方法LoadOrStore 存在就返回，不存在就插入，LoadAndDelete 如果存在的话，同时删除这个 key
使用 Range 配合一个回调函数进行遍历操作，通过回调函数返回内部遍历出来的值，Range 参数中回调函数的返回值在需要继续迭代遍历时，返回 true，终止迭代遍历时，返回 false。
